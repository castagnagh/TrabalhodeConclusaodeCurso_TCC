{% extends 'core/base.html' %}
{% load bootstrap3 %}

{% block title %}
	{% bootstrap_icon 'certificate' %} Questionário
{% endblock %}

{% block content %}
	<div class="panel panel-default">
		<div class="panel-body">
		<a href="{% url 'questionario_create' %}" class="btn btn-lg btn-primary">{% bootstrap_icon 'floppy-disk' %} Cadastrar questionario</a>
		</div>
	</div>
	
	<div class="table-responsive">
		<table class="table table-hover">
			<thead>			
				<th>Título</th>  			
				<th>Descrição</th>  			
				<th class="text-center">Total perguntas</th>
				<th class="text-center">Ativo</th>                
				<th class="text-center">Visualizar</th>
				<th class="text-center">Responder</th>
				<th class="text-center">Editar</th>
				<th class="text-center">Excluir</th>
			</thead>

			<tbody>
				{% for questionario in object_list %}
					<tr>
						<td> 
							{{ questionario.titulo }}<br>
							<small>Criado em: {{ questionario.criado_em|date:"d/m/Y H:i:s" }}</small>
						</td>
						<td> {{ questionario.descricao }}</td>
						<td class="text-center"> {{ questionario.total_perguntas }}</td>
						<td class="text-center">
							{% if questionario.is_active %}
								SIM
							{% else %}
								NÃO
							{% endif %}
						</td>
						<td class="text-center">
                            <button class="btn btn-success btn-sm" data-toggle="modal" data-target="#questionarioDetalhesModal{{ questionario.slug }}" title="Detalhes">{% bootstrap_icon 'eye-open' %}</button>
                            {% include 'repadel/includes/_modal_questionario_detalhes.html' %}
						</td>
						<td class="text-center">
							{% bootstrap_button content='' href=questionario.get_responder_url button_type='link' icon='info-sign' button_class='btn btn-primary' size='sm' %}
						</td>
						<td class="text-center">
							{% bootstrap_button content='' href=questionario.get_absolute_url button_type='link' icon='edit' button_class='btn btn-primary' size='sm' %}
						</td>
						<td class="text-center">
							{% bootstrap_button content='' href=questionario.get_delete_url button_type='link' icon='trash' button_class='btn btn-danger' size='sm' %}
						</td>
					</tr>
				{% endfor %}
			</tbody>
			<tfoot>
				<th colspan="6">
					Total de registros: {{ object_list|length }}
				</th>
			</tfoot>
		</table>
	</div>
{% endblock %}